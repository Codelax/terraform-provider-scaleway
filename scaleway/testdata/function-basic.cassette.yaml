---
version: 1
interactions:
- request:
    body: '{"name":"tf-func--sharp-ramanujan","environment_variables":{},"project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","description":null,"secret_environment_variables":null}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces
    method: POST
  response:
    body: '{"id":"0b7f40c6-2e40-4675-9a7e-bd8d74847e44","name":"tf-func--sharp-ramanujan","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"pending","registry_namespace_id":"","error_message":null,"registry_endpoint":"","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "374"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 13:59:05 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - a91b2292-09a2-4182-b45e-2690bffa7e4b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/0b7f40c6-2e40-4675-9a7e-bd8d74847e44
    method: GET
  response:
    body: '{"id":"0b7f40c6-2e40-4675-9a7e-bd8d74847e44","name":"tf-func--sharp-ramanujan","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"pending","registry_namespace_id":"","error_message":null,"registry_endpoint":"","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "374"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 13:59:05 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e5bd02db-f780-4c6f-8126-a2137a408c60
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/0b7f40c6-2e40-4675-9a7e-bd8d74847e44
    method: GET
  response:
    body: '{"id":"0b7f40c6-2e40-4675-9a7e-bd8d74847e44","name":"tf-func--sharp-ramanujan","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"00c010a8-cb67-4c13-8407-cfb4dcfcfb2c","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtffuncsharpramanujanyjpavyo2","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "463"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 13:59:10 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 8c704cf5-5e48-4d6e-b6be-c56a0b589c98
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"name":"foobar","namespace_id":"0b7f40c6-2e40-4675-9a7e-bd8d74847e44","environment_variables":{},"min_scale":0,"max_scale":20,"runtime":"node14","memory_limit":128,"timeout":null,"handler":"handler.handle","privacy":"private","description":null,"secret_environment_variables":null,"http_option":null}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/functions
    method: POST
  response:
    body: '{"id":"803e4fda-823c-42d7-a821-0e0c253134df","name":"foobar","namespace_id":"0b7f40c6-2e40-4675-9a7e-bd8d74847e44","status":"created","environment_variables":{},"min_scale":0,"max_scale":20,"runtime":"node14","memory_limit":128,"cpu_limit":70,"timeout":"300s","handler":"handler.handle","error_message":null,"privacy":"private","description":"","domain_name":"tffuncsharpramanujanyjpavyo2-foobar.functions.fnc.fr-par.scw.cloud","secret_environment_variables":[],"http_option":"","region":"fr-par"}'
    headers:
      Content-Length:
      - "497"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 13:59:10 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 477a861d-e5f8-4341-bb02-6ed7a721dc81
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/803e4fda-823c-42d7-a821-0e0c253134df
    method: GET
  response:
    body: '{"message":"Namespace was not found"}'
    headers:
      Content-Length:
      - "37"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 13:59:10 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - ceb02ead-1a27-4059-9f61-99d4cc53ee59
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/0b7f40c6-2e40-4675-9a7e-bd8d74847e44
    method: GET
  response:
    body: '{"id":"0b7f40c6-2e40-4675-9a7e-bd8d74847e44","name":"tf-func--sharp-ramanujan","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"00c010a8-cb67-4c13-8407-cfb4dcfcfb2c","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtffuncsharpramanujanyjpavyo2","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "463"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 13:59:11 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 293d8b97-9145-46ea-aeef-591968a4a806
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/0b7f40c6-2e40-4675-9a7e-bd8d74847e44
    method: DELETE
  response:
    body: '{"id":"0b7f40c6-2e40-4675-9a7e-bd8d74847e44","name":"tf-func--sharp-ramanujan","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"deleting","registry_namespace_id":"00c010a8-cb67-4c13-8407-cfb4dcfcfb2c","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtffuncsharpramanujanyjpavyo2","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "466"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 13:59:11 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 98f1d083-d118-46ce-858c-bdf1f88222ad
    status: 200 OK
    code: 200
    duration: ""
