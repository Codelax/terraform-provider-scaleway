---
version: 1
interactions:
- request:
    body: '{"name":"tf-func--determined-blackburn","environment_variables":{},"project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","description":null,"secret_environment_variables":null}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces
    method: POST
  response:
    body: '{"id":"7cfca2f9-544f-4f43-8a29-658e1f872b1e","name":"tf-func--determined-blackburn","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"pending","registry_namespace_id":"","error_message":null,"registry_endpoint":"","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "379"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 16:24:28 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f133e774-00b0-418c-b345-7119aa825db5
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/7cfca2f9-544f-4f43-8a29-658e1f872b1e
    method: GET
  response:
    body: '{"id":"7cfca2f9-544f-4f43-8a29-658e1f872b1e","name":"tf-func--determined-blackburn","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"pending","registry_namespace_id":"","error_message":null,"registry_endpoint":"","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "379"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 16:24:28 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 531e5143-1811-4bf6-b282-d9f410808f52
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/7cfca2f9-544f-4f43-8a29-658e1f872b1e
    method: GET
  response:
    body: '{"id":"7cfca2f9-544f-4f43-8a29-658e1f872b1e","name":"tf-func--determined-blackburn","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"c288a1a5-17b5-4267-8f17-50fcc642bdb7","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtffuncdeterminedblace20qhh4i","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "468"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 16:24:33 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 76f75eca-98e3-41de-bb72-6fe63515c173
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"name":"foobar","namespace_id":"7cfca2f9-544f-4f43-8a29-658e1f872b1e","environment_variables":{},"min_scale":0,"max_scale":20,"runtime":"node14","memory_limit":128,"timeout":null,"handler":"handler.handle","privacy":"private","description":null,"secret_environment_variables":null,"http_option":null}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/functions
    method: POST
  response:
    body: '{"id":"20230a1a-f873-45e8-8c04-c0250f374b41","name":"foobar","namespace_id":"7cfca2f9-544f-4f43-8a29-658e1f872b1e","status":"created","environment_variables":{},"min_scale":0,"max_scale":20,"runtime":"node14","memory_limit":128,"cpu_limit":70,"timeout":"300s","handler":"handler.handle","error_message":null,"privacy":"private","description":"","domain_name":"tffuncdeterminedblace20qhh4i-foobar.functions.fnc.fr-par.scw.cloud","secret_environment_variables":[],"http_option":"","region":"fr-par"}'
    headers:
      Content-Length:
      - "497"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 16:24:33 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 561efabd-7dc7-49ea-ab53-7a960bea3353
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/functions/20230a1a-f873-45e8-8c04-c0250f374b41
    method: GET
  response:
    body: '{"id":"20230a1a-f873-45e8-8c04-c0250f374b41","name":"foobar","namespace_id":"7cfca2f9-544f-4f43-8a29-658e1f872b1e","status":"created","environment_variables":{},"min_scale":0,"max_scale":20,"runtime":"node14","memory_limit":128,"cpu_limit":70,"timeout":"300s","handler":"handler.handle","error_message":null,"privacy":"private","description":"","domain_name":"tffuncdeterminedblace20qhh4i-foobar.functions.fnc.fr-par.scw.cloud","secret_environment_variables":[],"http_option":"","region":"fr-par"}'
    headers:
      Content-Length:
      - "497"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 16:24:33 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 038a8887-6cc0-494a-ba90-12c52e6e60b0
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/functions/20230a1a-f873-45e8-8c04-c0250f374b41
    method: GET
  response:
    body: '{"id":"20230a1a-f873-45e8-8c04-c0250f374b41","name":"foobar","namespace_id":"7cfca2f9-544f-4f43-8a29-658e1f872b1e","status":"created","environment_variables":{},"min_scale":0,"max_scale":20,"runtime":"node14","memory_limit":128,"cpu_limit":70,"timeout":"300s","handler":"handler.handle","error_message":null,"privacy":"private","description":"","domain_name":"tffuncdeterminedblace20qhh4i-foobar.functions.fnc.fr-par.scw.cloud","secret_environment_variables":[],"http_option":"","region":"fr-par"}'
    headers:
      Content-Length:
      - "497"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 16:24:34 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 8e5d04d6-9ca8-4b84-bcc0-913e2a7a0206
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/7cfca2f9-544f-4f43-8a29-658e1f872b1e
    method: GET
  response:
    body: '{"id":"7cfca2f9-544f-4f43-8a29-658e1f872b1e","name":"tf-func--determined-blackburn","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"c288a1a5-17b5-4267-8f17-50fcc642bdb7","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtffuncdeterminedblace20qhh4i","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "468"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 16:24:34 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fa32c462-2480-434e-b91a-37d61028a8ab
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/functions/20230a1a-f873-45e8-8c04-c0250f374b41
    method: GET
  response:
    body: '{"id":"20230a1a-f873-45e8-8c04-c0250f374b41","name":"foobar","namespace_id":"7cfca2f9-544f-4f43-8a29-658e1f872b1e","status":"created","environment_variables":{},"min_scale":0,"max_scale":20,"runtime":"node14","memory_limit":128,"cpu_limit":70,"timeout":"300s","handler":"handler.handle","error_message":null,"privacy":"private","description":"","domain_name":"tffuncdeterminedblace20qhh4i-foobar.functions.fnc.fr-par.scw.cloud","secret_environment_variables":[],"http_option":"","region":"fr-par"}'
    headers:
      Content-Length:
      - "497"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 16:24:34 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 4f3334c9-91da-4e39-a1bd-e6893d32c873
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/functions/20230a1a-f873-45e8-8c04-c0250f374b41
    method: GET
  response:
    body: '{"id":"20230a1a-f873-45e8-8c04-c0250f374b41","name":"foobar","namespace_id":"7cfca2f9-544f-4f43-8a29-658e1f872b1e","status":"created","environment_variables":{},"min_scale":0,"max_scale":20,"runtime":"node14","memory_limit":128,"cpu_limit":70,"timeout":"300s","handler":"handler.handle","error_message":null,"privacy":"private","description":"","domain_name":"tffuncdeterminedblace20qhh4i-foobar.functions.fnc.fr-par.scw.cloud","secret_environment_variables":[],"http_option":"","region":"fr-par"}'
    headers:
      Content-Length:
      - "497"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 16:24:34 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - a4ac3294-1929-4cf3-b742-aaf8ab70c2a9
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/functions/20230a1a-f873-45e8-8c04-c0250f374b41
    method: DELETE
  response:
    body: '{"id":"20230a1a-f873-45e8-8c04-c0250f374b41","name":"foobar","namespace_id":"7cfca2f9-544f-4f43-8a29-658e1f872b1e","status":"deleting","environment_variables":{},"min_scale":0,"max_scale":20,"runtime":"node14","memory_limit":128,"cpu_limit":70,"timeout":"300s","handler":"handler.handle","error_message":null,"privacy":"private","description":"","domain_name":"tffuncdeterminedblace20qhh4i-foobar.functions.fnc.fr-par.scw.cloud","secret_environment_variables":[],"http_option":"","region":"fr-par"}'
    headers:
      Content-Length:
      - "498"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 16:24:35 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 0f4d78cc-cdeb-422e-8885-5c097b09b8b8
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/7cfca2f9-544f-4f43-8a29-658e1f872b1e
    method: GET
  response:
    body: '{"id":"7cfca2f9-544f-4f43-8a29-658e1f872b1e","name":"tf-func--determined-blackburn","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"c288a1a5-17b5-4267-8f17-50fcc642bdb7","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtffuncdeterminedblace20qhh4i","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "468"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 16:24:35 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e25a1cc6-d2ff-4a3f-9f8e-9a5874ca2bd2
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/7cfca2f9-544f-4f43-8a29-658e1f872b1e
    method: DELETE
  response:
    body: '{"id":"7cfca2f9-544f-4f43-8a29-658e1f872b1e","name":"tf-func--determined-blackburn","environment_variables":{},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"deleting","registry_namespace_id":"c288a1a5-17b5-4267-8f17-50fcc642bdb7","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtffuncdeterminedblace20qhh4i","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "471"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 16:24:35 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 11fb50d6-f9c8-49ac-8998-34f885fd88fc
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.6; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/functions/20230a1a-f873-45e8-8c04-c0250f374b41
    method: DELETE
  response:
    body: '{"message":"Function was not found"}'
    headers:
      Content-Length:
      - "36"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 24 Feb 2022 16:24:35 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 655fd628-f575-4ca4-ab20-f27304bbb07d
    status: 404 Not Found
    code: 404
    duration: ""
